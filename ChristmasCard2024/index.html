<!DOCTYPE html>
<html lang="en">
	<head>
    <script src="../ChristmasCard2020/jquery-3.5.1.min.js"></script>
    <script src="../ChristmasCard2020/turn.min.js"></script>
    <link rel="stylesheet" type="text/css" href="basic.css">
    <title>Merry Christmas! 2022</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet"> 

	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="page1">
		<div style="position: relative;">
			<h1 style="font-family: serif; margin: 3rem auto; width: calc(100vw - 2rem); font-size:clamp(2.5rem, 5rem, 5.2vw);line-height: 1em; text-align: center;">Celebrating God's gift!</h1>
			<div style="width: min(100vw, 1000px); margin: 0 auto; font-size: 1.5rem; padding: 0 1rem; ">
				<p style="text-align: center; font-size: 1.5rem">
						Carl, Bridget, Henry, Stephen, and baby (coming May '25!)
				</p>
			</div>
		</div>
		<div id="flipbook-container">
			<br>
			<div id="flipbook">
				<div><img id="one" width="100%"></div>
				<div><img id="two" width="100%"></div>
				<div><img id="three" width="100%"></div>
				<div><img id="four" width="100%"></div>
			</div>
			<span id="changeImages" style="position:absolute; top: 0.4rem; right: 0.4rem; font-size: 2rem; cursor: pointer; z-index:200" onclick="loadImages();">↻</span>
			<div style="display: flex; position: absolute; top: 3rem; right: 0; left: 0; bottom: 0;">
				<span id="left" class="hide" onclick="$('#flipbook').turn('previous');" style="font-size: 2rem; cursor: pointer"> ◄ </span>
				<span id="pageNum" style="margin: 0 auto 0 auto; font-size: 1.5rem;">1</span>
				<span id="right" onclick="$('#flipbook').turn('next');" style="font-size: 2rem; cursor: pointer"> ► </span></div>
			<p id="page2">That news of a savior is an incredible promise to my weary heart.  And a command follows this good news: to preach that joyous good news every day into our own hearts.</p>
			<p id="page3">Our hearts will want to run away to grumble or wallow in self-pity or spew livid rebuttals because to rejoice means to die.  To remind ourselves that a savior has come is to remember that we need saving -  that we are dead and helpless without him.<br><br>But we can also remember that Jesus died first.</p>
			<p id="page4">Jesus took the sting of death so that when we die our little deaths, we can have the hope of His resurrected power working in us.</p>
		</div>
		<div class="centered" style="margin-top:1rem">
			See previous cards <a href="hostedFiles/ChristmasCard2020/index.html">2020</a>, <a href="hostedFiles/ChristmasCard2022/index.html">2022</a>
		</div>
		<script type="text/javascript">
			$("#flipbook").turn({
				autoCenter: true
			});
			$(window).resize(function() {
				let windowWidth = $(window).width();
				let windowHeight = $(window).height();

        if(windowWidth*.6 > windowHeight) {
        	windowWidth = windowHeight/0.6;
        }

				let view_width = Math.min(windowWidth, 1000);
		    $("#flipbook").turn("display", "single");
				$("#flipbook").turn("size", view_width, view_width*.6);
			});
			$("#flipbook").bind("turning", function(event, page, view) {
			  $('#pageNum').text(page);
			  $('body')[0].setAttribute('class', 'page'+page);
			  $('.hide').removeClass('hide');
			  if(page == 1){
          $('#left').addClass('hide');
			  }
			  if(page == 4){
			  	$('#right').addClass('hide');
			  }
			});
			$(window).resize();
			let setNum = getRandomInt(7);

			function loadImages(){
				let newSetNum = getRandomInt(7);
				if(newSetNum == setNum){
					newSetNum = getRandomInt(7);
					if(newSetNum == setNum){
						newSetNum = getRandomInt(7);
					}
				}
				setNum = newSetNum;
	      console.log(setNum);
	      $('#one')[0].src = setNum + '-1.jpg';
	      $('#two')[0].src = setNum + '-2.jpg';
	      $('#three')[0].src = setNum + '-3.jpg';
	      $('#four')[0].src = setNum + '-4.jpg';
			}

			function getRandomInt(max) {
			  return Math.floor(Math.random() * Math.floor(max));
			}	
			loadImages();
		</script>
	</body>
</html>