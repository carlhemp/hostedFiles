<!DOCTYPE html>
<html lang="en">
	<head>
    <script src="../ChristmasCard2020/jquery-3.5.1.min.js"></script>
    <script src="../ChristmasCard2020/turn.min.js"></script>
    <link rel="stylesheet" type="text/css" href="basic.css">
    <title>Merry Christmas! 2022</title>

	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="page1">
		<div style="position: relative;">
			<h1 style="font-family: serif; margin: 3rem auto; width: max-content; font-size:min(5rem, 11vw);">Merry Christmas!</h1>
			<div style="width: min(100vw, 1000px); margin: 0 auto; font-size: 1rem; padding: 0 1rem; ">
				<p>
					From all of us to you, 
					Merry Christmas and may God bless you! 
					<span style="font-family: 'Bradley Hand', 'Brush Script MT', 'Luminari', cursive; text-align: center; display: block; font-size: 30px; margin:1rem 0">
						Carl, Bridget, Henry, and Stephen
					</span>
				</p>
			</div>
		</div>
		<div id="flipbook-container">
			<br>
			<div id="flipbook">
				<div><img id="one" width="100%"></div>
				<div><img id="two" width="100%"></div>
				<div><img id="three" width="100%"></div>
				<div><img id="four" width="100%"></div>
			</div>
			<span id="changeImages" style="position:absolute; top: 0.4rem; right: 0.4rem; font-size: 2rem; cursor: pointer; z-index:200" onclick="loadImages();">↻</span>
			<div style="display: flex; position: absolute; top: 3rem; right: 0; left: 0; bottom: 0;">
				<span id="left" class="hide" onclick="$('#flipbook').turn('previous');" style="font-size: 2rem; cursor: pointer"> ◄ </span>
				<span id="pageNum" style="margin: 0 auto 0 auto; font-size: 1.5rem;">1</span>
				<span id="right" onclick="$('#flipbook').turn('next');" style="font-size: 2rem; cursor: pointer"> ► </span></div>
			<p id="page2">That news of great joy of a savior is an incredible promise to my weary heart.  And a command follows that good news is to preach that joyous good news every day into our own hearts.</p>
			<p id="page3">Our hearts will want to run away to grumble or wallow in self-pity or spew livid rebuttals because to rejoice means to die.  Reminding ourselves that a Saviour has come is a reminder that we need saving -  that we are dead and helpless without him.<br><br>But Jesus died first.</p>
			<p id="page4">Taking the sting of death so that when we die our little deaths, we can have the hope of His resurrected power working in us.</p>
		</div>
		<script type="text/javascript">
			$("#flipbook").turn({
				autoCenter: true
			});
			$(window).resize(function() {
				let windowWidth = $(window).width();
				let windowHeight = $(window).height();

        if(windowWidth*.6 > windowHeight) {
        	windowWidth = windowHeight/0.6;
        }

				let view_width = Math.min(windowWidth, 1000);
		    $("#flipbook").turn("display", "single");
				$("#flipbook").turn("size", view_width, view_width*.6);
			});
			$("#flipbook").bind("turning", function(event, page, view) {
			  $('#pageNum').text(page);
			  $('body')[0].setAttribute('class', 'page'+page);
			  $('.hide').removeClass('hide');
			  if(page == 1){
          $('#left').addClass('hide');
			  }
			  if(page == 4){
			  	$('#right').addClass('hide');
			  }
			});
			$(window).resize();
			let setNum = getRandomInt(6);

			function loadImages(){
				let newSetNum = getRandomInt(6);
				if(newSetNum == setNum){
					newSetNum = getRandomInt(6);
					if(newSetNum == setNum){
						newSetNum = getRandomInt(6);
					}
				}
				setNum = newSetNum;
	      console.log(setNum);
	      $('#one')[0].src = setNum + '-1.jpg';
	      $('#two')[0].src = setNum + '-2.jpg';
	      $('#three')[0].src = setNum + '-3.jpg';
	      $('#four')[0].src = setNum + '-4.jpg';
			}

			function getRandomInt(max) {
			  return Math.floor(Math.random() * Math.floor(max));
			}	
			loadImages();
		</script>
	</body>
</html>